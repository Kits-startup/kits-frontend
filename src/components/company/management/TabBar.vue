<template>
  <div class="body">
    <each-tab-bar-vue
      v-for="(e, i) in tabList"
      v-bind:key="i"
      :label="e.label"
      :ds="e.ds"
      :vBox="e.vBox"
      :id="e.id"
      @click="clickTab"
      :fill="tab_now === e.id"
      @subClick="clickSubTab"
      :tab_sub="tab_sub"
    />
  </div>
</template>

<script>
import EachTabBarVue from "./EachTabBar.vue";
export default {
  data() {
    return {
      tab_now: "edit-info",
      tab_sub: "in-progress",
      tabList: [
        {
          label: "기업 정보 수정",
          id: "edit-info",
          vBox: "0 0 28 28",
          ds: [
            "M5.25033 7.0026H7.58366V10.5026H19.2503V7.0026H21.5837V14.0026H23.917V7.0026C23.917 5.71927 22.867 4.66927 21.5837 4.66927H16.707C16.217 3.31594 14.9337 2.33594 13.417 2.33594C11.9003 2.33594 10.617 3.31594 10.127 4.66927H5.25033C3.96699 4.66927 2.91699 5.71927 2.91699 7.0026V23.3359C2.91699 24.6193 3.96699 25.6693 5.25033 25.6693H11.0837V23.3359H5.25033V7.0026ZM13.417 4.66927C14.0587 4.66927 14.5837 5.19427 14.5837 5.83594C14.5837 6.4776 14.0587 7.0026 13.417 7.0026C12.7753 7.0026 12.2503 6.4776 12.2503 5.83594C12.2503 5.19427 12.7753 4.66927 13.417 4.66927Z",
            "M20.4287 16.3359L18.772 17.9809L20.6153 19.8243H13.417V22.1576H20.6153L18.772 24.0126L20.4287 25.6576L25.0837 20.9909L20.4287 16.3359Z",
          ],
        },
        {
          label: "공고 관리",
          id: "job-posting",
          vBox: "0 0 28 28",
          ds: [
            "M4.08333 21.5833V8.75H22.75V12.5883C23.59 12.845 24.3833 13.2183 25.0833 13.72V8.75C25.0833 7.455 24.045 6.41667 22.75 6.41667H18.0833V4.08333C18.0833 2.78833 17.045 1.75 15.75 1.75H11.0833C9.78833 1.75 8.75 2.78833 8.75 4.08333V6.41667H4.08333C2.78833 6.41667 1.76167 7.455 1.76167 8.75L1.75 21.5833C1.75 22.8783 2.78833 23.9167 4.08333 23.9167H13.0433C12.6933 23.1933 12.46 22.4117 12.3433 21.5833H4.08333ZM11.0833 4.08333H15.75V6.41667H11.0833V4.08333Z",
            "M20.4167 14.5833C17.1967 14.5833 14.5833 17.1967 14.5833 20.4167C14.5833 23.6367 17.1967 26.25 20.4167 26.25C23.6367 26.25 26.25 23.6367 26.25 20.4167C26.25 17.1967 23.6367 14.5833 20.4167 14.5833ZM22.3417 23.1583L19.8333 20.65V16.9167H21V20.1717L23.1583 22.33L22.3417 23.1583Z",
          ],
        },
        {
          label: "인재풀",
          id: "talent-pool",
          vBox: "0 0 22 20",
          ds: [
            "M9.0651 9.13542C11.4583 9.13542 13.3984 7.19532 13.3984 4.80208C13.3984 2.40885 11.4583 0.46875 9.0651 0.46875C6.67187 0.46875 4.73177 2.40885 4.73177 4.80208C4.73177 7.19532 6.67187 9.13542 9.0651 9.13542Z",
            "M9.44427 11.3129C6.48677 11.2046 0.398438 12.6779 0.398438 15.6354V16.7188C0.398438 17.3146 0.885938 17.8021 1.48177 17.8021H10.7334C8.0576 14.8121 9.40094 11.4213 9.44427 11.3129Z",
            "M19.2809 15.6571C19.7901 14.7904 20.0393 13.7396 19.8009 12.6021C19.4326 10.8254 17.9376 9.40625 16.1393 9.17875C13.2901 8.81042 10.8851 11.2046 11.2643 14.0538C11.5026 15.8521 12.9109 17.3471 14.6876 17.7154C15.8251 17.9538 16.8759 17.7046 17.7426 17.1954L19.7576 19.2104C20.1801 19.6329 20.8626 19.6329 21.2851 19.2104C21.7076 18.7879 21.7076 18.1054 21.2851 17.6829L19.2809 15.6571ZM15.5651 15.6354C14.3734 15.6354 13.3984 14.6604 13.3984 13.4688C13.3984 12.2771 14.3734 11.3021 15.5651 11.3021C16.7568 11.3021 17.7318 12.2771 17.7318 13.4688C17.7318 14.6604 16.7568 15.6354 15.5651 15.6354Z",
          ],
        },
        {
          label: "결제서비스",
          id: "payment",
          vBox: "0 0 24 20",
          ds: [
            "M21.333 0.664062H2.66634C1.37134 0.664062 0.344674 1.7024 0.344674 2.9974L0.333008 16.9974C0.333008 18.2924 1.37134 19.3307 2.66634 19.3307H21.333C22.628 19.3307 23.6663 18.2924 23.6663 16.9974V2.9974C23.6663 1.7024 22.628 0.664062 21.333 0.664062ZM21.333 16.9974H2.66634V9.9974H21.333V16.9974ZM21.333 5.33073H2.66634V2.9974H21.333V5.33073Z",
          ],
        },
        {
          label: "계정 설정",
          id: "setting",
          vBox: "0 0 24 26",
          ds: [
            "M3.25033 22.3307V10.6641H17.2503V11.8307C18.067 11.8307 18.8487 11.9474 19.5837 12.1691V10.6641C19.5837 9.38073 18.5337 8.33073 17.2503 8.33073H16.0837V5.9974C16.0837 2.7774 13.4703 0.164062 10.2503 0.164062C7.03033 0.164062 4.41699 2.7774 4.41699 5.9974V8.33073H3.25033C1.96699 8.33073 0.916992 9.38073 0.916992 10.6641V22.3307C0.916992 23.6141 1.96699 24.6641 3.25033 24.6641H10.5537C10.0637 23.9641 9.67866 23.1707 9.42199 22.3307H3.25033ZM6.75033 5.9974C6.75033 4.06073 8.31366 2.4974 10.2503 2.4974C12.187 2.4974 13.7503 4.06073 13.7503 5.9974V8.33073H6.75033V5.9974Z",
            "M17.2503 14.1641C14.0303 14.1641 11.417 16.7774 11.417 19.9974C11.417 23.2174 14.0303 25.8307 17.2503 25.8307C20.4703 25.8307 23.0837 23.2174 23.0837 19.9974C23.0837 16.7774 20.4703 14.1641 17.2503 14.1641ZM17.2503 16.4974C18.2187 16.4974 19.0003 17.2791 19.0003 18.2474C19.0003 19.2157 18.2187 19.9974 17.2503 19.9974C16.282 19.9974 15.5003 19.2157 15.5003 18.2474C15.5003 17.2791 16.282 16.4974 17.2503 16.4974ZM17.2503 23.4974C16.0487 23.4974 14.987 22.8907 14.357 21.9574C15.2087 21.4674 16.1887 21.1641 17.2503 21.1641C18.312 21.1641 19.292 21.4674 20.1437 21.9574C19.5137 22.8907 18.452 23.4974 17.2503 23.4974Z",
          ],
        },
      ],
    };
  },
  methods: {
    clickTab(param) {
      console.log(param);
      this.tab_now = param;
      console.log(`/company_management/${param}/in-progress`);
      if (param === "job-posting") {
        this.$router.push(`/company_management/${param}/in-progress`);
      } else {
        this.$router.push({ name: `management-${param}` });
      }
    },
    clickSubTab(param) {
      console.log(param);
      this.tab_sub = param;
      if (param === "applicant") {
        this.$router.push("/company_applier_management");
      } else {
        this.$router.push(`/company_management/job-posting/${param}`);
      }
    },
    checkURL: function () {
      const route = this.$router.currentRoute.path.split("/");
      console.log(route);
      if (route[2]) this.tab_now = route[2];
    },
  },
  components: {
    EachTabBarVue,
  },
  mounted() {
    this.checkURL();
  },
};
</script>

<style lang="scss" scoped>
.body {
  background: #ffffff;
  box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.18);
  border-radius: 15px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding: 22px 0 9px 17px;
  width: 270px;
  height: max-content;
}
</style>
